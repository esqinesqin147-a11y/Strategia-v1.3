<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Strategia V1.3 - Ultimate</title>
    <style>
        :root { --bg: #05070a; --blue: #00d2ff; --green: #39d353; --red: #ff3e3e; --purple: #bc8cff; --panel: rgba(22,27,34,0.95); }
        body { background: var(--bg); color: white; font-family: sans-serif; margin: 0; overflow: hidden; }
        #main-menu { position: fixed; width: 100%; height: 100%; background: var(--bg); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 100; transition: 0.6s; }
        .logo { font-size: 42px; font-weight: bold; color: var(--blue); text-shadow: 0 0 20px var(--blue); margin-bottom: 20px; }
        .btn-menu { width: 240px; padding: 16px; margin: 8px; border: 2px solid var(--blue); background: rgba(0, 210, 255, 0.1); color: white; border-radius: 30px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .diff-box { margin: 15px 0; display: flex; gap: 10px; }
        .diff-btn { padding: 12px 15px; background: none; border: 1px solid gray; color: gray; border-radius: 8px; font-weight: bold; cursor: pointer; }
        .diff-active { border-color: var(--blue); color: var(--blue); box-shadow: 0 0 10px var(--blue); }
        .lang-btns { margin-top: 20px; }
        .l-btn { padding: 8px 20px; background: none; border: 1px solid white; color: white; border-radius: 5px; cursor: pointer; opacity: 0.6; }
        .active-l { opacity: 1; border: 2px solid var(--blue); color: var(--blue); }
        #game-ui { display: none; height: 100vh; flex-direction: column; }
        .top-bar { display: grid; grid-template-columns: repeat(4, 1fr); gap: 5px; padding: 10px; background: var(--panel); border-bottom: 2px solid var(--blue); }
        .stat { text-align: center; font-size: 10px; }
        .val { display: block; font-size: 16px; font-weight: bold; color: var(--blue); }
        .map { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; padding: 15px; width: 90vw; max-width: 400px; margin: auto; }
        .tile { aspect-ratio: 1/1; border: 1px solid rgba(255,255,255,0.1); border-radius: 15px; display: flex; flex-direction: column; align-items: center; justify-content: center; font-size: 12px; cursor: pointer; transition: 0.2s; background: rgba(255,255,255,0.03); position: relative; }
        .player { border: 3px solid var(--green) !important; background: rgba(57, 211, 83, 0.15) !important; box-shadow: 0 0 15px var(--green); color: white; }
        .enemy { border: 2px solid var(--red); color: #666; }
        .under-attack { animation: flash-red 0.5s infinite; border: 3px solid var(--red) !important; }
        @keyframes flash-red { 0% { background: none; } 50% { background: rgba(255, 62, 62, 0.4); } 100% { background: none; } }
        .selected { border: 3px solid white !important; transform: scale(1.05); }
        .bottom-btns { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; padding: 15px; background: var(--panel); }
        .act-btn { padding: 15px; border: none; border-radius: 10px; color: white; font-weight: bold; font-size: 11px; cursor: pointer; }
        .btn-tech { grid-column: span 2; background: var(--purple); margin-top: 5px; }
    </style>
</head>
<body>
    <div id="main-menu">
        <div class="logo">STRATEGIA</div>
        <div class="diff-box">
            <button class="diff-btn diff-active" onclick="setDiff('easy', this)" id="d1">ASAN</button>
            <button class="diff-btn" onclick="setDiff('normal', this)" id="d2">NORMAL</button>
            <button class="diff-btn" onclick="setDiff('hard', this)" id="d3">ÇƏTİN</button>
        </div>
        <button class="btn-menu" id="playBtn" onclick="startGame()">OYUNA BAŞLA</button>
        <div class="lang-btns">
            <button class="l-btn active-l" onclick="changeLang('az', this)">AZE</button>
            <button class="l-btn" onclick="changeLang('en', this)">ENG</button>
        </div>
        <p style="color:gray; font-size:10px; margin-top:20px; letter-spacing:1px;">ESQIN SOFT - V1.3 FINAL</p>
    </div>

    <div id="game-ui">
        <div class="top-bar">
            <div class="stat"><span id="lGold">QIZIL</span><span id="vG" class="val">100</span></div>
            <div class="stat"><span id="lInf">PİYADA</span><span id="vI" class="val">0</span></div>
            <div class="stat"><span id="lTank">TANK</span><span id="vT" class="val">0</span></div>
            <div class="stat"><span id="lSci">ELM</span><span id="vS" class="val" style="color:var(--purple)">0</span></div>
        </div>
        <div id="msg" style="text-align:center; padding:5px; color:var(--blue); font-size:12px; font-weight:bold; height:15px;">...</div>
        <div id="mapContainer" class="map"></div>
        <div class="bottom-btns">
            <button class="act-btn" style="background:var(--blue)" onclick="buyInf()" id="bI">AL PİYADA (30Q)</button>
            <button class="act-btn" style="background:#0082ad;" onclick="buyTank()" id="bT">AL TANK (120Q)</button>
            <button class="act-btn" style="background:var(--green)" onclick="doAttack()" id="bA">HÜCUM</button>
            <button class="act-btn btn-tech" onclick="upTech()" id="btnTech">TEXNOLOGİYA (Lvl 1)</button>
        </div>
              </div>
              <script>
    let lang = 'az'; let diff = 'easy';
    let gold = 100, inf = 0, tanks = 0, sci = 0, provs = 1, tech = 1, selected = null;
    
    const conf = { 
        easy: { inc: 15, cost: 150, aiSpeed: 15000, aiPower: 200 }, 
        normal: { inc: 10, cost: 250, aiSpeed: 10000, aiPower: 400 }, 
        hard: { inc: 5, cost: 400, aiSpeed: 7000, aiPower: 700 } 
    };
             const dict = {
        az: { play: "OYUNA BAŞLA", win: "ZƏFƏR! DÜNYA SİZİNDİR.", g: "QIZIL", i: "PİYADA", t: "TANK", s: "ELM", bI: "AL PİYADA (30Q)", bT: "AL TANK (120Q)", bA: "HÜCUM", bTech: "TEXNOLOGİYA", d1: "ASAN", d2: "NORMAL", d3: "ÇƏTİN", atk: "XƏBƏRDARLIQ: DÜŞMƏN HÜCUM EDİR!", loss: "İTKİ! BİR ZONANI İTİRDİK!", def: "HÜCUM DƏF EDİLDİ!", req: "GÜC ÇATMIR! LAZIMDIR: " },
        en: { play: "START GAME", win: "VICTORY! THE WORLD IS YOURS.", g: "GOLD", i: "INFANTRY", t: "TANK", s: "SCIENCE", bI: "BUY INF (30G)", bT: "BUY TANK (120G)", bA: "ATTACK", bTech: "TECHNOLOGY", d1: "EASY", d2: "NORMAL", d3: "HARD", atk: "WARNING: ENEMY IS ATTACKING!", loss: "LOSS! WE LOST A ZONE!", def: "ATTACK REPELLED!", req: "NOT ENOUGH POWER! NEED: " }
    };

    function changeLang(l, btn) {
        lang = l;
        document.querySelectorAll('.l-btn').forEach(b => b.classList.remove('active-l'));
        btn.classList.add('active-l');
        document.getElementById('playBtn').innerText = dict[lang].play;
        document.getElementById('d1').innerText = dict[lang].d1;
        document.getElementById('d2').innerText = dict[lang].d2;
        document.getElementById('d3').innerText = dict[lang].d3;
        updateUI();
                  }
         function setDiff(d, b) {
        diff = d;
        document.querySelectorAll('.diff-btn').forEach(x => x.classList.remove('diff-active'));
        b.classList.add('diff-active');
    }
    function startGame() {
        document.getElementById('main-menu').style.display = "none";
        document.getElementById('game-ui').style.display = "flex";
        init();
    }
    function init() {
        const cont = document.getElementById('mapContainer');
        for(let i=0; i<9; i++) {
            let d = document.createElement('div');
            d.className = 'tile ' + (i===4 ? 'player' : 'enemy');
            d.id = "zone-"+i;
            d.innerHTML = i===4 ? '<b>HQ</b>' : 'ZONE';
            d.onclick = () => {
                document.querySelectorAll('.tile').forEach(x => x.classList.remove('selected'));
                d.classList.add('selected');
                selected = d;
            };
            cont.appendChild(d);
                      }
                      
